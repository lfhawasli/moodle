YUI.add("moodle-block_ucla_search-search",function(e,t){M.block_ucla_search=M.block_ucla_search||{},M.block_ucla_search.search={RESULTLIMIT:10,resturl:M.cfg.wwwroot+"/blocks/ucla_search/rest.php",init:function(t){var n="#ucla-search-"+t,r=!1,i=e.one(".ucla-search."+t+' input[name="collab"]'),s=e.one(".ucla-search."+t+' input[name="course"]'),o=e.one(".ucla-search."+t+' input[name="bytitle"]'),u=e.one(".ucla-search."+t+' input[name="bydescription"]'),a='<div class="search-result"><div class="shortname">{shortname}</div><div class="fullname">{fullname}</div><div class="summary">{summary}</div></div>',f=function(t,n){return e.Array.map(n,function(t){var n=t.raw;return e.Lang.sub(a,{shortname:n.shortname,fullname:t.highlighted,summary:n.summary})})},l=function(){var e="&collab=1",n="&course=1",r="&bytitle=1",a="&bydescription=1",f="&limit="+M.block_ucla_search.search.RESULTLIMIT;return t==="block-search"?(e=i.get("checked")?"&collab=1":"&collab=0",n=s.get("checked")?"&course=1":"&course=0"):t==="collab-search"?(e="&collab=1",n="&course=0"):t==="course-search"&&(e="&collab=0",n="&course=1"),r=o.get("checked")?"&bytitle=1":"&bytitle=0",a=u.get("checked")?"&bydescription=1":"&bydescription=0",e+n+r+a+f};e.one(n).plug(e.Plugin.AutoComplete,{resultFormatter:f,alwaysShowList:r,maxResults:this.RESULTLIMIT+1,resultHighlighter:"phraseMatch",minQueryLength:3,scrollIntoView:!0,resultListLocator:"results",resultTextLocator:"text",queryDelay:200,requestTemplate:function(e){return"?q="+e+l()},source:this.resturl,on:{select:function(e){window.location=e.result.raw.url}}})}}},"@VERSION@",{requires:["autocomplete","autocomplete-highlighters","autocomplete-filters"]});
