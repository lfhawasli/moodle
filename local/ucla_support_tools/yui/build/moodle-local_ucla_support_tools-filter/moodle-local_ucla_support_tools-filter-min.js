YUI.add("moodle-local_ucla_support_tools-filter",function(e,t){M.local_ucla_support_tools=M.local_ucla_support_tools||{},M.local_ucla_support_tools.filter={tools:function(t){var n=e.Base.create("pieFilter",e.Base,[e.AutoCompleteBase],{initializer:function(){this._bindUIACBase(),this._syncUIACBase()}}),r=new n({inputNode:t.input_node_id,minQueryLength:0,queryDelay:0,source:function(){var n=[];return e.all(t.target_nodes).each(function(e){n.push({node:e,tags:e.getAttribute("data-keywords")})}),n},resultTextLocator:"tags",resultFilters:"phraseMatch"});r.on("results",function(n){n.query?(e.all(t.filter_nodes).addClass("hidden"),e.all(t.category_nodes).each(function(e){e.ancestor("li").hide()}),e.Array.each(n.results,function(e){var t=e.raw.node;t.ancestor("li").removeClass("hidden");var n=t.ancestor(".ucla-support-category");n&&n.ancestor("li").show()})):(e.all(t.filter_nodes).removeClass("hidden"),e.all(t.category_nodes).each(function(e){e.ancestor("li").show()}))})},categories:function(){e.one(".ucla-support-tool-category-labels").delegate("change",function(t){var n=t.target,r=e.one('.ucla-support-category[data-id="'+n.getData("id")+'"]');n.get("checked")?(r.ancestor("li").removeClass("collapsed"),n.ancestor(".category-label").removeClass("selected"),n.previous("label").one("i").replaceClass("fa-toggle-off","fa-toggle-on")):(r.ancestor("li").addClass("collapsed"),n.ancestor(".category-label").addClass("selected"),n.previous("label").one("i").replaceClass("fa-toggle-on","fa-toggle-off"))},'input[type="checkbox"]'),e.one(".ucla-support-tool-alltools").delegate("click",function(t){t.preventDefault(),e.all('.category-label input[type="checkbox"]').each(function(e){e.get("checked")&&e.previous("label").simulate("click")});var n=t.target.getData("catid");e.one('.category-label input[data-id="'+n+'"]').set("checked","false").simulate("change")},'a[data-action="filtercategory"]')}}},"@VERSION@",{requires:["autocomplete-base","autocomplete-filters","node-event-simulate"]});
