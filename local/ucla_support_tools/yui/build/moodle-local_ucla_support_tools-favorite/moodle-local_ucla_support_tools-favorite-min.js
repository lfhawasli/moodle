YUI.add("moodle-local_ucla_support_tools-favorite",function(e,t){M.local_ucla_support_tools=M.local_ucla_support_tools||{},M.local_ucla_support_tools.favorite={init:function(){e.one("#region-main-box").delegate("click",function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-id");this.toggle_favorite(t)},'a[data-action="favorite"]',this)},toggle_favorite:function(t){return e.io(M.cfg.wwwroot+"/local/ucla_support_tools/rest.php",{method:"POST",data:{action:"togglefavorite",sesskey:M.cfg.sesskey,json:JSON.stringify({id:t})},on:{success:function(t,n){var r=JSON.parse(n.responseText);e.all('a[data-id="'+r.id+'"]').each(function(e){r.status?e.one("i").replaceClass("fa-star-o","fa-star"):e.one("i").replaceClass("fa-star","fa-star-o")});if(r.status){var i=e.one('.ucla-support-tool-alltools .ucla-support-tool[data-id="'+r.id+'"]'),s=e.Node.create("<li></li>");s.append(i.cloneNode(!0)),e.one(".ucla-support-category.favorites .ucla-support-tool-grid ul").append(s)}else e.one('.ucla-support-category.favorites .ucla-support-tool[data-id="'+r.id+'"]').ancestor("li").remove(!0)}}}),!0}}},"@VERSION@",{requires:["base","node"]});
