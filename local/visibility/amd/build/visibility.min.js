define(["jquery","core/notification","core/str"],function(e,n,i){var o=0,t=function(){i.get_strings([{key:"confirm",component:"moodle"},{key:"confirmremovevisibilitysession",component:"local_visibility"},{key:"yes",component:"core"},{key:"no",component:"core"}]).done(function(e){n.confirm(e[0],e[1],e[2],e[3],c)}.bind(this)).fail(n.exception)},c=function(){var n=o.data("id"),t=o.data("course");e.ajax({url:"ajax.php",data:{action:"delete",courseid:t,rangeid:n}}).done(function(o){if(o.success)e(".range"+n).fadeOut(250);else{var t=i.get_string("deleteerror","local_visibility");e.when(t).done(function(e){window.alert(e)})}})};return{init:function(){e(".rangedeletebutton").click(function(n){o=e(this),n.preventDefault(),t()})}}});